# Stock Tracker - 项目TODO

## 第一阶段：搜索功能优化
- [x] 修复搜索栏同步显示功能（代码、名称、拼音搜索）
- [x] 优化搜索结果UI展示
- [x] 支持快速进入股票详情页面

## 第二阶段：市场观点实时生成
- [x] 设计市场观点生成算法（基于热点板块、行业新闻、政策利好、近期行情、资金流向）
- [x] 实现市场观点后端 API（tRPC）
- [x] 集成LLM生成专业分析文本
- [ ] 添加具体买卖建议和目标价
- [ ] 实现推荐收益率实时变化追踪
- [ ] 更新首页市场核心观点展示

## 第三阶段：问票AI对话功能
- [x] 设计“问票”功能架构和数据库schema
- [x] 创建问票页面UI
- [x] 实现AI对话系统（tRPC后端）
- [x] 集成多大模型支持（OpenAI、Claude等）
- [ ] 实现实时股票数据访问和分析
- [ ] 支持对比分析功能
- [x] 实现对话历史存储
- [x] 实现对话导出和报告生成功能
- [x] 添加用户认证和权限控制
- [ ] 设计AI智能体角色和工作流

## 第四阶段：测试和优化
- [x] 编写搜索功能单元测试
- [x] 编写市场观点生成测试
- [x] 编写AI对话功能测试
- [ ] 性能优化和缓存策略
- [x] 用户体验优化

## 已完成功能
- [x] 升级到web-db-user方案
- [x] 修复Home.tsx导入
- [x] 项目编译成功


## 第五阶段：多媒体文件支持
- [x] 设计文件处理架构和数据库扩展
- [x] 实现后端文件上传API（S3集成）
- [x] 实现文件内容提取和分析
- [x] 实现前端文件上传UI和预览功能
- [x] 集成Vision API进行图片分析
- [x] 实现文件预览功能
- [x] 编写文件处理单元测试
- [x] 优化文件上传性能和错误处理


## 第六阶段：问票UI优化
- [x] 重设计文件上传UI - 改为输入框旁的小图标
- [x] 实现隐式文件上传 - 支持直接拖拽和粤贴
- [x] 分离文件和输入内容显示
- [x] 优化问票页面整体布局
- [x] 测试UI交互和用户体验
